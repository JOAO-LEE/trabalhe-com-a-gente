<header-search (submitted)="onSearch($event, page)"></header-search>
<main class="main">
    @if(githubService.repositories().totalCount && githubService.repositories().lastPage !== page) {
    <paginator (next)="onNext()" (previous)="onPrev()" [page]="page" [totalPages]="totalPages"
        (pageChange)="onPageChange($event)"></paginator>
    }

    <section>
        @if(githubService.error().message && hasSearched()) {
        <p class="error-message"><i class="ph-bold ph-warning-circle"></i> {{githubService.error().message}}</p>
        }
        <ul class="repo-list">
            @for (repository of githubService.repositories().items; track repository.id) {
            <repo-card [repository]="repository"></repo-card>
            }
        </ul>
    </section>
    @if(githubService.repositories().totalCount && githubService.repositories().lastPage !== page) {
    <paginator (next)="onNext()" (previous)="onPrev()" [page]="page" [totalPages]="totalPages"></paginator>
    }
</main>
<router-outlet />